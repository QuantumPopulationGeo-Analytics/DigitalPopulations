/*-secure-
{"_perm_cache_times":{"pagetime":1336807145,"foldertime":1273260772,"permtime":1296499724},"_valid_as_of":1336807333,"author":{"perm":"admin","name":"William R. Zwicky","first_name":"William R.","last_name":"Zwicky","email":"wrzwicky@pobox.com","image":"http:\/\/files.pbworks.com\/userimage\/e27cda3470cb4359f5676dc94a968d8048d1ef28\/yes\/48x48\/1278122855","lastview":1336807200,"lastviewtext":"2 minutes","is_verified":true,"uid":"bed028d9953d4e1825545766a1ac21c043a9537a"},"current_revision":1304482533,"hasPlugins":false,"has_custom_perms":false,"hidden":false,"html":"<p>The Digital Populations suite includes a program called Dp2Kml that can convert the output of censusgen into maps for Google Earth. &nbsp;The command requires the households file and optionally a matching population file, and will build a Google Earth representation of the data using reasonable internal defaults.<\/p>\n<p>&nbsp;<\/p>\n<p>Dp2Kml has reasonable defaults for Digital Populations data, so running the program is&nbsp;<em>almost<\/em>&nbsp;simple.<\/p>\n<p>&nbsp;<\/p>\n<pre>Dp2Kml --crs EPSG:32610 rzn001-households.csv&nbsp;<\/pre>\n<p>&nbsp;<\/p>\n<p>The problem is that Digital Populations files are usually UTM, and such data&nbsp;<strong>requires<\/strong>&nbsp;a --crs argument to specify where on the Earth this data is located. &nbsp;Without this argument, the results will likely not be visible at all. &nbsp;You can read more about&nbsp;<a href=\"\/Coord-Ref-Systems\">Coordinte Reference Systems<\/a>.<\/p>\n<p>&nbsp;<\/p>\n<h2>Bubble Template<\/h2>\n<p>&nbsp;<\/p>\n<p>Dp2Kml can add descriptive pop-up bubbles to each generated placemark, and can even&nbsp;help you generate a&nbsp;<a href=\"\/Bubble-Templates\">bubble template<\/a> file. &nbsp;This file is processed once for every data point in the households file, and the result becomes the bubble text in the generated placemark. &nbsp;Note that Dp2Kml has been tuned to handle large bubbles and large data sets, so memory usage <em>shouldn't<\/em>&nbsp;be a problem.<\/p>\n<p>&nbsp;<\/p>\n<ul><li>Open a suitable command prompt.<\/li>\n<li>\n<pre>Enter this command:<\/pre>\n<pre>Dp2Kml --gentemplate rzn001-households.csv &gt;bubbble.html<\/pre>\n<\/li>\n<li>Change the CSV file name if necessary, and the HTML file name if desired.&nbsp;<\/li>\n<li>\n<p>Edit the bubble.html if desired. &nbsp;Lines can be disabled by inserting <span style=\"font-family:'Courier New';\">##<\/span> at the beginning of the line. &nbsp;This has already been done for a few unimportant lines.<\/p>\n<\/li>\n<\/ul><p>&nbsp;<\/p>\n<p>To run with the bubble template, use this command:<\/p>\n<p>&nbsp;<\/p>\n<pre>Dp2Kml --crs EPSG:32610 --bubble bubble.html rzn001-households.csv rzn001-population.csv<\/pre>\n<p>&nbsp;<\/p>\n<p>Only add the population file name if you have one. &nbsp;The file is ignored if you're not using bubble templates.<\/p>\n<p>&nbsp;<\/p><p>&nbsp;<\/p>\n<h2>Style Template<\/h2>\n\n<p>&nbsp;<\/p>\n<p>Dp2Kml can customize the appearance of icons and labels based on the contents of each data record. &nbsp;A special script file must be hand-written to accomplish this. &nbsp;You can read more about <a href=\"\/Placemark-Template\">style template files<\/a>.<\/p>\n<p>&nbsp;<\/p>\n<h2>Caveats<\/h2>\n<p>&nbsp;<\/p>\n<ul><li>The program store households and population records in a database file.&nbsp; This greatly reduces the amount of memory required, but the database file can be extremely large.&nbsp;<\/li>\n<li>Upon opening the kmz, most placemarks will not be visible. &nbsp;The huge numbers of households generated by&nbsp;Digital Populations&nbsp;can easily choke Google Earth, thus the result has been broken into tiles which will not become visible until you zoom in \"close enough\". &nbsp;How close that is depends on the numbers of placemarks involved.<\/li>\n<li>To help visualize the overall result, an \"overview\" bitmap will appear in red on the landscape. &nbsp;More intense red means more households. &nbsp;Zoom into the red to make the individual placemarks appear.<\/li>\n<\/ul><p>&nbsp;<\/p>\n<hr \/><p>&nbsp;<\/p>\n<h2>Usage:<\/h2>\n<p>&nbsp;<\/p>\n<p>Running the program without parameters will generate the help text:<\/p>\n<p>&nbsp;<\/p>\n<table style=\"width:100%;\" border=\"0\"><tbody><tr><td>\n<p>Usage: Dp2Kml [options] &lt;household-file&gt; [&lt;population-file&gt;]<\/p>\n<p>&nbsp; &lt;household-file&gt; is the table of households generated by Digital Populations<\/p>\n<p>&nbsp; &lt;population-file&gt; is an optional table of members of the above households<\/p>\n<p>&nbsp;<\/p>\n<p>Option &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Description<\/p>\n<p>------ &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;-----------<\/p>\n<p>--bubble &lt;File&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; create <a href=\"\/Bubble-Templates\">bubbles using this template<\/a><\/p>\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; file (default: no bubbles)<\/p>\n<p>--crs &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <a href=\"\/w\/page\/34054800\/Coord-Ref-Systems\">coord ref system<\/a> used in file<\/p>\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (default: no conversion)<\/p>\n<p>--gentemplate &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; output simple bubble template from<\/p>\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; households file and exit<\/p>\n<p>-h, --help &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;print this help<\/p>\n<p>--name &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;format string for name of each point<\/p>\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (default: \"%{uid}\"<\/p>\n<p>--output &lt;File&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; dir or file name to receive output<\/p>\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (default: household file name, with .<\/p>\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; kmz extension)<\/p>\n<p>--pix &lt;Integer&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; minimum pixels per household for<\/p>\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; visibility; tiles with less will not<\/p>\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; be displayed<\/p>\n<p>--style &lt;File&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;adjust <a href=\"\/Placemark-Template\">placemark styles using this<\/a><\/p>\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; template file<\/p>\n<p>--testtemplate &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;generate HTML from the first 10<\/p>\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; records then exit<\/p>\n<\/td>\n<\/tr><\/tbody><\/table><p>&nbsp;<\/p>","locked":false,"mtime":1304482533,"name":"Dp2Kml Tool","oid":30654698,"perms":{"r":true},"revcount":9,"revurl":"http:\/\/digitalpopulations.pbworks.com\/w\/page\/30654698\/Dp2Kml%20Tool","size":7653,"wikistyle":false}
*/
